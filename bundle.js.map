{"version":3,"sources":["webpack:///webpack/bootstrap b3476762427d23bdb0aa","webpack:///./src/config/index.js","webpack:///./src/service.js","webpack:///./src/collision/index.js","webpack:///./src/config/consts.js","webpack:///./src/cloud/index.js","webpack:///./src/obstacle/index.js","webpack:///./src/index.js","webpack:///./src/runner/index.js","webpack:///./src/runner/runner.js","webpack:///./src/config/trex-config.js","webpack:///./src/collision/collisionBox.js","webpack:///./src/config/cloud-config.js","webpack:///./src/config/runner-config.js","webpack:///./src/config/horizon-config.js","webpack:///./src/config/obstacle-config.js","webpack:///./src/config/nightMode-config.js","webpack:///./src/config/horizonLine-config.js","webpack:///./src/config/distanceMeter-config.js","webpack:///./src/config/gameOverPanel-config.js","webpack:///./src/horizon/index.js","webpack:///./src/horizon/horizon.js","webpack:///./src/horizon/horizonLine.js","webpack:///./src/nightMode/index.js","webpack:///./src/nightMode/nightMode.js","webpack:///./src/cloud/cloud.js","webpack:///./src/obstacle/obstacle.js","webpack:///./src/trex/index.js","webpack:///./src/trex/trex.js","webpack:///./src/distanceMeter/index.js","webpack:///./src/distanceMeter/distanceMeter.js","webpack:///./src/gameOverPanel/index.js","webpack:///./src/gameOverPanel/gameOverPanel.js","webpack:///./src/runner/imagesLoader.js"],"names":["trexConfig","cloudConfig","runnerConfig","horizonConfig","obstacleConfig","nightModeConfig","horizonLineConfig","distanceMeterConfig","gameOverPanelConfig","getRandomNum","vibrate","createCanvas","decodeBase64ToArrayBuffer","getTimeStamp","classes","min","max","Math","floor","random","duration","window","navigator","container","width","height","opt_classname","canvas","document","createElement","className","CANVAS","appendChild","base64String","len","length","str","atob","arrayBuffer","ArrayBuffer","bytes","Uint8Array","i","charCodeAt","buffer","Date","getTime","performance","now","DEFAULT_WIDTH","DEFAULT_HEIGHT","DIMENSIONS","WIDTH","HEIGHT","FPS","IS_HIDPI","devicePixelRatio","IS_IOS","test","platform","IS_MOBILE","userAgent","IS_TOUCH_ENABLED","onDocumentLoad","addEventListener","Runner","outerContainerId","opt_config","outerContainerEl","querySelector","containerEl","detailsButton","config","dimensions","canvasCtx","tRex","distanceMeter","distanceRan","highestScore","time","runningTime","msPerFrame","currentSpeed","SPEED","obstacles","activated","playing","crashed","paused","inverted","invertTimer","resizeTimerId_","playCount","audioBuffer","soundFx","audioContext","images","imagesLoaded","adjustDimensions","isDisabled","setupDisabledRunner","loadImages","SNACKBAR","textContent","loadTimeData","getValue","events","KEYDOWN","e","keycodes","JUMP","keyCode","classList","add","SNACKBAR_SHOW","bind","imagesLoader","spriteIds","checkAll","init","onLoaded","AudioContext","resourceTemplate","getElementById","RESOURCE_TEMPLATE_ID","content","sound","sounds","soundSrc","src","substr","indexOf","decodeAudioData","index","audioData","opt_speed","speed","mobileSpeed","MOBILE_SPEED_COEFFICIENT","ICON","style","visibility","setSpeed","CONTAINER","PLAYER","getContext","fillStyle","fill","updateCanvasScaling","initSprites","horizon","createTouchController","startListening","update","RESIZE","debounceResize","touchController","TOUCH_CONTROLLER","setInterval","clearInterval","boxStyles","getComputedStyle","padding","Number","paddingLeft","offsetWidth","calcXPos","clearCanvas","ceil","stop","draw","gameOverPanel","updateDimensions","playingIntro","keyframes","styleSheets","insertRule","ANIM_END","startGame","webkitAnimation","restart","VISIBILITY","onVisibilityChange","BLUR","FOCUS","clearRect","updatePending","deltaTime","jumping","updateJump","hasObstacles","CLEAR_TIME","jumpCount","playIntro","collision","MAX_SPEED","ACCELERATION","gameOver","playAchievementSound","playSound","SCORE","INVERT_FADE_DURATION","invertTrigger","invert","actualDistance","getActualDistance","INVERT_DISTANCE","blinkCount","MAX_BLINK_COUNT","scheduleNextUpdate","evtType","TOUCHSTART","MOUSEDOWN","onKeyDown","KEYUP","TOUCHEND","MOUSEUP","onKeyUp","type","removeEventListener","preventDefault","target","loadSounds","errorPageController","trackEasterEgg","ducking","BUTTON_PRESS","startJump","currentTarget","DUCK","setSpeedDrop","setDuck","String","isjumpKey","isRunning","endJump","speedDrop","RESTART","isLeftClickOnCanvas","GAMEOVER_CLEAR_TIME","reset","play","button","raqId","requestAnimationFrame","HIT","acheivement","status","CRASHED","setHighScore","cancelAnimationFrame","RUNNING","remove","hidden","webkitHidden","visibilityState","soundBuffer","sourceNode","createBufferSource","connect","destination","start","body","toggle","INVERTED","Object","assign","opt_width","opt_height","context","backingStoreRatio","webkitBackingStorePixelRatio","ratio","oldWidth","oldHeight","scale","BOTTOM_PAD","DROP_VELOCITY","GRAVITY","HEIGHT_DUCK","INIITAL_JUMP_VELOCITY","INTRO_DURATION","MAX_JUMP_HEIGHT","MIN_JUMP_HEIGHT","SPEED_DROP_COEFFICIENT","START_X_POS","WIDTH_DUCK","sourceDimensions","collisionBoxes","DUCKING","JUMPING","WAITING","BLINK_TIMING","animFrames","frames","LDPI","TREX","HDPI","checkForCollision","createAdjustedCollisionBox","drawCollisionBoxes","boxCompare","CollisionBox","x","y","w","h","obstacle","opt_canvasCtx","obstacleBoxXPos","xPos","tRexBox","yPos","obstacleBox","typeConfig","size","tRexCollisionBoxes","t","adjTrexBox","adjObstacleBox","box","adjustment","save","strokeStyle","strokeRect","restore","tRexBoxX","tRexBoxY","obstacleBoxX","obstacleBoxY","MAX_CLOUD_GAP","MAX_SKY_LEVEL","MIN_CLOUD_GAP","MIN_SKY_LEVEL","CLOUD","CLICK","LOAD","HORIZON","MOON","STAR","CACTUS_SMALL","CACTUS_LARGE","PTERODACTYL","TEXT_SPRITE","GAME_OVER","BG_CLOUD_SPEED","CLOUD_FREQUENCY","MAX_OBSTACLE_DUPLICATION","MAX_CLOUDS","MAX_GAP_COEFFICIENT","GAP_COEFFICIENT","MAX_OBSTACLE_LENGTH","types","multipleSpeed","minGap","minSpeed","yPosMobile","numFrames","frameRate","speedOffset","FADE_SPEED","MOON_SPEED","NUM_STARS","STAR_SIZE","STAR_SPEED","STAR_MAX_Y","moon","phases","YPOS","BUMP_THRESHOLD","DEST_WIDTH","MAX_DISTANCE_UNITS","ACHIEVEMENT_DISTANCE","COEFFICIENT","FLASH_DURATION","FLASH_ITERATIONS","TEXT_X","TEXT_Y","TEXT_WIDTH","TEXT_HEIGHT","RESTART_WIDTH","RESTART_HEIGHT","Horizon","obstacleHistory","cloudFrequency","nightMode","clouds","cloudSpeed","horizonLine","addCloud","updateObstacles","showNightMode","updateClouds","numClouds","lastCloud","cloudGap","filter","obj","updatedObstacles","slice","shift","lastObstacle","followingObstacleCreated","isVisible","gap","addNewObstacle","obstacleTypeIndex","obstacleType","duplicateObstacleCheck","push","unshift","splice","nextObstacleType","duplicateCount","HorizonLine","spritePos","sprite","sourceXPos","bumpThreshold","setSourceDimensions","setSprite","dimension","drawImage","pos","increment","line1","line2","getRandomType","updateXPos","NightMode","moonSpritePos","starSpritePos","currentPhase","opacity","containerWidth","stars","drawStars","placeStars","moonSprite","starSprite","delta","currentPos","moonSourceWidth","moonSourceHeight","moonSourceX","moonOutputWidth","sourceStarSize","starSourceX","globalAlpha","sourceY","round","console","log","segmentSize","Cloud","CLOUD_SPRITE","sourceWidth","sourceHeight","Obstacle","gapCoefficient","currentFrame","timer","Array","isArray","yPosConfig","getGap","sourceX","maxGap","Trex","groundYPos","currentAnimFrames","blinkDelay","animStartTime","jumpVelocity","reachedMinHeight","jumpspotX","minJumpHeight","setting","opt_status","setBlinkDelay","blink","framesElapsed","isDucking","midair","DistanceMeter","maxScore","highScore","digits","defaultString","flashTimer","flashIterations","maxScoreUnits","maxDistanceStr","parseInt","canvasWidth","digitPos","value","opt_highScore","targetX","targetY","targetWidth","targetHeight","highScoreX","translate","distance","paint","distanceStr","split","drawHighScore","highScoreStr","concat","GameOverPanel","canvasDimensions","textImgPos","restartImgPos","setSprites","textSprite","restartSprite","centerX","textSourceX","textSourceY","textSourceWidth","textSourceHeight","textTargetX","textTargetY","textTargetWidth","textTargetHeight","restartSourceWidth","restartSourceHeight","restartTargetX","restartTargetY","ImagesLoader","ids","loadedCallback","callbackCalled","setImages","name","reduce","accumulated","current","complete","img","callback","addEventListeners"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b3476762427d23bdb0aa","import * as trexConfig from './trex-config';\nimport * as cloudConfig from './cloud-config';\nimport * as runnerConfig from './runner-config';\nimport * as horizonConfig from './horizon-config';\nimport * as obstacleConfig from './obstacle-config';\nimport * as nightModeConfig from './nightMode-config';\nimport * as horizonLineConfig from './horizonLine-config';\nimport * as distanceMeterConfig from './distanceMeter-config';\nimport * as gameOverPanelConfig from './gameOverPanel-config';\n\nexport {\n  trexConfig,\n  cloudConfig,\n  runnerConfig,\n  horizonConfig,\n  obstacleConfig,\n  nightModeConfig,\n  horizonLineConfig,\n  distanceMeterConfig,\n  gameOverPanelConfig,\n};\n\nexport * from './consts';\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","import {\n  IS_IOS,\n  IS_MOBILE,\n  runnerConfig\n} from 'Configs';\n\nconst { classes } = runnerConfig; \n\nexport function getRandomNum(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\n/**\n * Vibrate on mobile devices.\n * @param {number} duration Duration of the vibration in milliseconds.\n */\nexport function vibrate(duration) {\n  if (IS_MOBILE && window.navigator.vibrate) {\n    window.navigator.vibrate(duration);\n  }\n};\n\n/**\n * Create canvas element.\n * @param {HTMLElement} container Element to append canvas to.\n * @param {number} width\n * @param {number} height\n * @param {string} opt_classname\n * @return {HTMLCanvasElement}\n */\nexport function createCanvas(container, width, height, opt_classname) {\n  var canvas = document.createElement('canvas');\n  canvas.className = opt_classname ? classes.CANVAS + ' ' +\n    opt_classname : classes.CANVAS;\n  canvas.width = width;\n  canvas.height = height;\n  container.appendChild(canvas);\n\n  return canvas;\n};\n\n/**\n * Decodes the base 64 audio to ArrayBuffer used by Web Audio.\n * @param {string} base64String\n */\nexport function decodeBase64ToArrayBuffer(base64String) {\n  var len = (base64String.length / 4) * 3;\n  var str = atob(base64String);\n  var arrayBuffer = new ArrayBuffer(len);\n  var bytes = new Uint8Array(arrayBuffer);\n\n  for (var i = 0; i < len; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n  return bytes.buffer;\n};\n\n/**\n * Return the current timestamp.\n * @return {number}\n */\nexport function getTimeStamp() {\n  return IS_IOS ? new Date().getTime() : performance.now();\n};\n\n\n// WEBPACK FOOTER //\n// ./src/service.js","export * from './collisionBox';\n\n\n// WEBPACK FOOTER //\n// ./src/collision/index.js","/**\n * Default game width.\n * @const\n */\nexport const DEFAULT_WIDTH = 900;\n\nexport const DEFAULT_HEIGHT = 270;\n\nexport const DIMENSIONS = {\n  WIDTH: DEFAULT_WIDTH,\n  HEIGHT: DEFAULT_HEIGHT\n}\n\n/**\n * Frames per second.\n * @const\n */\nexport const FPS = 60;\n\n/** @const */\nexport const IS_HIDPI = window.devicePixelRatio > 1;\n\n/** @const */\nexport const IS_IOS = /iPad|iPhone|iPod/.test(window.navigator.platform);\n\n/** @const */\nexport const IS_MOBILE = /Android/.test(window.navigator.userAgent) || IS_IOS;\n\n/** @const */\nexport const IS_TOUCH_ENABLED = 'ontouchstart' in window;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/consts.js","import Cloud from './cloud';\n\nexport default Cloud;\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloud/index.js","import Obstacle from './obstacle';\n\nexport default Obstacle;\n\n\n// WEBPACK FOOTER //\n// ./src/obstacle/index.js","import Runner from './runner';\n\n(function () {\n  window['Runner'] = Runner;\n\n})();\n\n\nfunction onDocumentLoad() {\n  new Runner('.interstitial-wrapper');  \n}\n\ndocument.addEventListener('DOMContentLoaded', onDocumentLoad);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Runner from './runner';\n\nexport default Runner;\n\n\n// WEBPACK FOOTER //\n// ./src/runner/index.js","import {\n  runnerConfig,\n  DEFAULT_WIDTH,\n  FPS,\n  IS_HIDPI,\n  IS_IOS,\n  IS_MOBILE,\n  IS_TOUCH_ENABLED,\n  DIMENSIONS,\n} from 'Configs';\nimport { \n  createCanvas,\n  getTimeStamp,\n  decodeBase64ToArrayBuffer,\n  vibrate,\n} from '../service';\nimport Horizon from '../horizon';\nimport Trex from '../trex';\nimport DistanceMeter from '../distanceMeter';\nimport GameOverPanel from '../gameOverPanel';\nimport Obstacle from '../obstacle';\nimport Cloud from '../cloud';\nimport { checkForCollision } from '../collision';\nimport ImagesLoader from './imagesLoader';\n\nclass Runner {\n  constructor(outerContainerId, opt_config) {\n    this.outerContainerEl = document.querySelector(outerContainerId);\n    this.containerEl = null;\n    this.detailsButton = this.outerContainerEl.querySelector('#details-button');\n\n    this.config = opt_config || Runner.config;\n\n    this.dimensions = DIMENSIONS;\n\n    this.canvas = null;\n    this.canvasCtx = null;\n\n    this.tRex = null;\n\n    this.distanceMeter = null;\n    this.distanceRan = 0;\n\n    this.highestScore = 0;\n\n    this.time = 0;\n    this.runningTime = 0;\n    this.msPerFrame = 1000 / FPS;\n    this.currentSpeed = this.config.SPEED;\n\n    this.obstacles = [];\n\n    this.activated = false; // Whether the easter egg has been activated.\n    this.playing = false; // Whether the game is currently in play state.\n    this.crashed = false;\n    this.paused = false;\n    this.inverted = false;\n    this.invertTimer = 0;\n    this.resizeTimerId_ = null;\n\n    this.playCount = 0;\n\n    // Sound FX.\n    this.audioBuffer = null;\n    this.soundFx = {};\n\n    // Global web audio context for playing sounds.\n    this.audioContext = null;\n\n    // Images.\n    this.images = {};\n    this.imagesLoaded = 0;\n\n    this.adjustDimensions();\n\n    if (this.isDisabled()) {\n      this.setupDisabledRunner();\n    } else {\n      this.loadImages();\n    }\n  }\n\n  isDisabled() {\n    // return loadTimeData && loadTimeData.valueExists('disabledEasterEgg');\n    return false;\n  }\n\n  /**\n   * For disabled instances, set up a snackbar with the disabled message.\n   */\n  setupDisabledRunner() {\n    this.containerEl = document.createElement('div');\n    this.containerEl.className = Runner.classes.SNACKBAR;\n    this.containerEl.textContent = loadTimeData.getValue('disabledEasterEgg');\n    this.outerContainerEl.appendChild(this.containerEl);\n\n    // Show notification when the activation key is pressed.\n    document.addEventListener(Runner.events.KEYDOWN, function(e) {\n      if (Runner.keycodes.JUMP[e.keyCode]) {\n        this.containerEl.classList.add(Runner.classes.SNACKBAR_SHOW);\n        document.querySelector('.icon').classList.add('icon-disabled');\n      }\n    }.bind(this));\n  }\n\n  /**\n   * Cache the appropriate image sprite from the page and get the sprite sheet\n   * definition.\n   */\n  loadImages() {\n    let imagesLoader, spriteIds;    \n\n    if (IS_HIDPI) {\n      spriteIds = Runner.spriteIds['HDPI'];\n    } else {\n      spriteIds = Runner.spriteIds['LDPI'];\n    }\n\n    imagesLoader = new ImagesLoader(spriteIds);\n\n    if (imagesLoader.checkAll()) {\n      this.init();\n    } else {\n      imagesLoader.onLoaded(this.init.bind(this));\n    }\n  }\n\n  /**\n   * Load and decode base 64 encoded sounds.\n   */\n  loadSounds() {\n    if (!IS_IOS) {\n      this.audioContext = new AudioContext();\n\n      let resourceTemplate =\n        document.getElementById(this.config.RESOURCE_TEMPLATE_ID).content;\n\n      for (let sound in Runner.sounds) {\n        let soundSrc =\n          resourceTemplate.getElementById(Runner.sounds[sound]).src;\n        soundSrc = soundSrc.substr(soundSrc.indexOf(',') + 1);\n        let buffer = decodeBase64ToArrayBuffer(soundSrc);\n\n        // Async, so no guarantee of order in array.\n        this.audioContext.decodeAudioData(buffer, function(index, audioData) {\n          this.soundFx[index] = audioData;\n        }.bind(this, sound));\n      }\n    }\n  }\n\n  /**\n   * Sets the game speed. Adjust the speed accordingly if on a smaller screen.\n   * @param {number} opt_speed\n   */\n  setSpeed(opt_speed) {\n    let speed = opt_speed || this.currentSpeed;\n\n    // Reduce the speed on smaller mobile screens.\n    if (this.dimensions.WIDTH < DEFAULT_WIDTH) {\n      let mobileSpeed = speed * this.dimensions.WIDTH / DEFAULT_WIDTH *\n        this.config.MOBILE_SPEED_COEFFICIENT;\n      this.currentSpeed = mobileSpeed > speed ? speed : mobileSpeed;\n    } else if (opt_speed) {\n      this.currentSpeed = opt_speed;\n    }\n  }\n\n  /**\n   * Game initialiser.\n   */\n  init() {\n    // Hide the static icon.\n    document.querySelector('.' + Runner.classes.ICON).style.visibility =\n      'hidden';\n\n    this.adjustDimensions();\n    this.setSpeed();\n\n    this.containerEl = document.createElement('div');\n    this.containerEl.className = Runner.classes.CONTAINER;\n\n    // Player canvas container.\n    this.canvas = createCanvas(this.containerEl, this.dimensions.WIDTH,\n      this.dimensions.HEIGHT, Runner.classes.PLAYER);\n\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.canvasCtx.fillStyle = '#f7f7f7';\n    this.canvasCtx.fill();\n    Runner.updateCanvasScaling(this.canvas);\n\n    Cloud.initSprites();\n    Obstacle.initSprites();\n\n    // Horizon contains clouds, obstacles and the ground.\n    this.horizon = new Horizon(this.canvas);\n\n    // Distance meter\n    this.distanceMeter = new DistanceMeter(this.canvas);\n\n    // Draw t-rex\n    this.tRex = new Trex(this.canvas);\n\n\n    this.outerContainerEl.appendChild(this.containerEl);\n\n    if (IS_MOBILE) {\n      this.createTouchController();\n    }\n\n    this.startListening();\n    this.update();\n\n    window.addEventListener(Runner.events.RESIZE,\n      this.debounceResize.bind(this));\n  }\n\n  /**\n   * Create the touch controller. A div that covers whole screen.\n   */\n  createTouchController() {\n    this.touchController = document.createElement('div');\n    this.touchController.className = Runner.classes.TOUCH_CONTROLLER;\n    this.outerContainerEl.appendChild(this.touchController);\n  }\n\n  /**\n   * Debounce the resize event.\n   */\n  debounceResize() {\n    if (!this.resizeTimerId_) {\n      this.resizeTimerId_ =\n        setInterval(this.adjustDimensions.bind(this), 250);\n    }\n  }\n\n  /**\n   * Adjust game space dimensions on resize.\n   */\n  adjustDimensions() {\n    clearInterval(this.resizeTimerId_);\n    this.resizeTimerId_ = null;\n\n    let boxStyles = window.getComputedStyle(this.outerContainerEl);\n    let padding = Number(boxStyles.paddingLeft.substr(0,\n      boxStyles.paddingLeft.length - 2));\n\n    this.dimensions.WIDTH = this.outerContainerEl.offsetWidth - padding * 2;\n\n    // Redraw the elements back onto the canvas.\n    if (this.canvas) {\n      this.canvas.width = this.dimensions.WIDTH;\n      this.canvas.height = this.dimensions.HEIGHT;\n\n      Runner.updateCanvasScaling(this.canvas);\n\n      this.distanceMeter.calcXPos(this.dimensions.WIDTH);\n      this.clearCanvas();\n      this.horizon.update(0, 0, true);\n      this.tRex.update(0);\n\n      // Outer container and distance meter.\n      if (this.playing || this.crashed || this.paused) {\n        this.containerEl.style.width = this.dimensions.WIDTH + 'px';\n        this.containerEl.style.height = this.dimensions.HEIGHT + 'px';\n        this.distanceMeter.update(0, Math.ceil(this.distanceRan));\n        this.stop();\n      } else {\n        this.tRex.draw(0, 0);\n      }\n\n      // Game over panel.\n      if (this.crashed && this.gameOverPanel) {\n        this.gameOverPanel.updateDimensions(this.dimensions.WIDTH);\n        this.gameOverPanel.draw();\n      }\n    }\n  }\n\n  /**\n   * Play the game intro.\n   * Canvas container width expands out to the full width.\n   */\n  playIntro() {\n    if (!this.activated && !this.crashed) {\n      this.playingIntro = true;\n      this.tRex.playingIntro = true;\n\n      // CSS animation definition.\n      let keyframes = '@-webkit-keyframes intro { ' +\n        'from { width:' + Trex.config.WIDTH + 'px }' +\n        'to { width: ' + this.dimensions.WIDTH + 'px }' +\n        '}';\n      document.styleSheets[0].insertRule(keyframes, 0);\n\n      this.containerEl.addEventListener(Runner.events.ANIM_END,\n        this.startGame.bind(this));\n\n      this.containerEl.style.webkitAnimation = 'intro .4s ease-out 1 both';\n      this.containerEl.style.width = this.dimensions.WIDTH + 'px';\n\n      // if (this.touchController) {\n      //     this.outerContainerEl.appendChild(this.touchController);\n      // }\n      this.playing = true;\n      this.activated = true;\n    } else if (this.crashed) {\n      this.restart();\n    }\n  }\n\n\n  /**\n   * Update the game status to started.\n   */\n  startGame() {\n    this.runningTime = 0;\n    this.playingIntro = false;\n    this.tRex.playingIntro = false;\n    this.containerEl.style.webkitAnimation = '';\n    this.playCount++;\n\n    // Handle tabbing off the page. Pause the current game.\n    document.addEventListener(Runner.events.VISIBILITY,\n      this.onVisibilityChange.bind(this));\n\n    window.addEventListener(Runner.events.BLUR,\n      this.onVisibilityChange.bind(this));\n\n    window.addEventListener(Runner.events.FOCUS,\n      this.onVisibilityChange.bind(this));\n  }\n\n  clearCanvas() {\n    this.canvasCtx.clearRect(0, 0, this.dimensions.WIDTH,\n      this.dimensions.HEIGHT);\n  }\n\n  /**\n   * Update the game frame and schedules the next one.\n   */\n  update() {\n    this.updatePending = false;\n\n    let now = getTimeStamp();\n    let deltaTime = now - (this.time || now);\n    this.time = now;\n\n    if (this.playing) {\n      this.clearCanvas();\n\n      if (this.tRex.jumping) {\n        this.tRex.updateJump(deltaTime);\n      }\n\n      this.runningTime += deltaTime;\n      let hasObstacles = this.runningTime > this.config.CLEAR_TIME;\n\n      // First jump triggers the intro.\n      if (this.tRex.jumpCount == 1 && !this.playingIntro) {\n        this.playIntro();\n      }\n\n      // The horizon doesn't move until the intro is over.\n      if (this.playingIntro) {\n        this.horizon.update(0, this.currentSpeed, hasObstacles);\n      } else {\n        deltaTime = !this.activated ? 0 : deltaTime;\n        this.horizon.update(deltaTime, this.currentSpeed, hasObstacles,\n          this.inverted);\n      }\n\n      // Check for collisions.\n      let collision = hasObstacles &&\n        checkForCollision(this.horizon.obstacles[0], this.tRex);\n\n      if (!collision) {\n        this.distanceRan += this.currentSpeed * deltaTime / this.msPerFrame;\n\n        if (this.currentSpeed < this.config.MAX_SPEED) {\n          this.currentSpeed += this.config.ACCELERATION;\n        }\n      } else {\n        this.gameOver();\n      }\n\n      let playAchievementSound = this.distanceMeter.update(deltaTime,\n        Math.ceil(this.distanceRan));\n\n      if (playAchievementSound) {\n        this.playSound(this.soundFx.SCORE);\n      }\n\n      // Night mode.\n      if (this.invertTimer > this.config.INVERT_FADE_DURATION) {\n        this.invertTimer = 0;\n        this.invertTrigger = false;\n        this.invert();\n      } else if (this.invertTimer) {\n        this.invertTimer += deltaTime;\n      } else {\n        let actualDistance =\n          this.distanceMeter.getActualDistance(Math.ceil(this.distanceRan));\n\n        if (actualDistance > 0) {\n          this.invertTrigger = !(actualDistance %\n            this.config.INVERT_DISTANCE);\n\n          if (this.invertTrigger && this.invertTimer === 0) {\n            this.invertTimer += deltaTime;\n            this.invert();\n          }\n        }\n      }\n    }\n\n    if (this.playing || (!this.activated &&\n        this.tRex.blinkCount < Runner.config.MAX_BLINK_COUNT)) {\n      this.tRex.update(deltaTime);\n      this.scheduleNextUpdate();\n    }\n  }\n\n  /**\n   * Event handler.\n   */\n  handleEvent(e) {\n    return (function(evtType, events) {\n      switch (evtType) {\n        case events.KEYDOWN:\n        case events.TOUCHSTART:\n        case events.MOUSEDOWN:\n          this.onKeyDown(e);\n          break;\n        case events.KEYUP:\n        case events.TOUCHEND:\n        case events.MOUSEUP:\n          this.onKeyUp(e);\n          break;\n      }\n    }.bind(this))(e.type, Runner.events);\n  }\n\n  /**\n   * Bind relevant key / mouse / touch listeners.\n   */\n  startListening() {\n    // Keys.\n    document.addEventListener(Runner.events.KEYDOWN, this);\n    document.addEventListener(Runner.events.KEYUP, this);\n\n    if (IS_MOBILE) {\n      // Mobile only touch devices.\n      this.touchController.addEventListener(Runner.events.TOUCHSTART, this);\n      this.touchController.addEventListener(Runner.events.TOUCHEND, this);\n      this.containerEl.addEventListener(Runner.events.TOUCHSTART, this);\n    } else {\n      // Mouse.\n      document.addEventListener(Runner.events.MOUSEDOWN, this);\n      document.addEventListener(Runner.events.MOUSEUP, this);\n    }\n  }\n\n  /**\n   * Remove all listeners.\n   */\n  stopListening() {\n    document.removeEventListener(Runner.events.KEYDOWN, this);\n    document.removeEventListener(Runner.events.KEYUP, this);\n\n    if (IS_MOBILE) {\n      this.touchController.removeEventListener(Runner.events.TOUCHSTART, this);\n      this.touchController.removeEventListener(Runner.events.TOUCHEND, this);\n      this.containerEl.removeEventListener(Runner.events.TOUCHSTART, this);\n    } else {\n      document.removeEventListener(Runner.events.MOUSEDOWN, this);\n      document.removeEventListener(Runner.events.MOUSEUP, this);\n    }\n  }\n\n  /**\n   * Process keydown.\n   * @param {Event} e\n   */\n  onKeyDown(e) {\n    // Prevent native page scrolling whilst tapping on mobile.\n    if (IS_MOBILE && this.playing) {\n      e.preventDefault();\n    }\n\n    if (e.target != this.detailsButton) {\n      if (!this.crashed && (Runner.keycodes.JUMP[e.keyCode] ||\n          e.type == Runner.events.TOUCHSTART)) {\n        if (!this.playing) {\n          this.loadSounds();\n          this.playing = true;\n          this.update();\n          if (window.errorPageController) {\n            errorPageController.trackEasterEgg();\n          }\n        }\n        //  Play sound effect and jump on starting the game for the first time.\n        if (!this.tRex.jumping && !this.tRex.ducking) {\n          this.playSound(this.soundFx.BUTTON_PRESS);\n          this.tRex.startJump(this.currentSpeed);\n        }\n      }\n\n      if (this.crashed && e.type == Runner.events.TOUCHSTART &&\n        e.currentTarget == this.containerEl) {\n        this.restart();\n      }\n    }\n\n    if (this.playing && !this.crashed && Runner.keycodes.DUCK[e.keyCode]) {\n      e.preventDefault();\n      if (this.tRex.jumping) {\n        // Speed drop, activated only when jump key is not pressed.\n        this.tRex.setSpeedDrop();\n      } else if (!this.tRex.jumping && !this.tRex.ducking) {\n        // Duck.\n        this.tRex.setDuck(true);\n      }\n    }\n  }\n\n\n  /**\n   * Process key up.\n   * @param {Event} e\n   */\n  onKeyUp(e) {\n    let keyCode = String(e.keyCode);\n    let isjumpKey = Runner.keycodes.JUMP[keyCode] ||\n      e.type == Runner.events.TOUCHEND ||\n      e.type == Runner.events.MOUSEDOWN;\n\n    if (this.isRunning() && isjumpKey) {\n      this.tRex.endJump();\n    } else if (Runner.keycodes.DUCK[keyCode]) {\n      this.tRex.speedDrop = false;\n      this.tRex.setDuck(false);\n    } else if (this.crashed) {\n      // Check that enough time has elapsed before allowing jump key to restart.\n      let deltaTime = getTimeStamp() - this.time;\n\n      if (Runner.keycodes.RESTART[keyCode] || this.isLeftClickOnCanvas(e) ||\n        (deltaTime >= this.config.GAMEOVER_CLEAR_TIME &&\n          Runner.keycodes.JUMP[keyCode])) {\n        this.restart();\n      }\n    } else if (this.paused && isjumpKey) {\n      // Reset the jump state\n      this.tRex.reset();\n      this.play();\n    }\n  }\n\n  /**\n   * Returns whether the event was a left click on canvas.\n   * On Windows right click is registered as a click.\n   * @param {Event} e\n   * @return {boolean}\n   */\n  isLeftClickOnCanvas(e) {\n    return e.button != null && e.button < 2 &&\n      e.type == Runner.events.MOUSEUP && e.target == this.canvas;\n  }\n\n  /**\n   * RequestAnimationFrame wrapper.\n   */\n  scheduleNextUpdate() {\n    if (!this.updatePending) {\n      this.updatePending = true;\n      this.raqId = requestAnimationFrame(this.update.bind(this));\n    }\n  }\n\n  /**\n   * Whether the game is running.\n   * @return {boolean}\n   */\n  isRunning() {\n    return !!this.raqId;\n  }\n\n  /**\n   * Game over state.\n   */\n  gameOver() {\n    this.playSound(this.soundFx.HIT);\n    vibrate(200);\n\n    this.stop();\n    this.crashed = true;\n    this.distanceMeter.acheivement = false;\n\n    this.tRex.update(100, Trex.status.CRASHED);\n\n    // Game over panel.\n    if (!this.gameOverPanel) {\n      this.gameOverPanel = new GameOverPanel(this.canvas);\n    } else {\n      this.gameOverPanel.draw();\n    }\n\n    // Update the high score.\n    if (this.distanceRan > this.highestScore) {\n      this.highestScore = Math.ceil(this.distanceRan);\n      this.distanceMeter.setHighScore(this.highestScore);\n    }\n\n    // Reset the time clock.\n    this.time = getTimeStamp();\n  }\n\n  stop() {\n    this.playing = false;\n    this.paused = true;\n    cancelAnimationFrame(this.raqId);\n    this.raqId = 0;\n  }\n\n  play() {\n    if (!this.crashed) {\n      this.playing = true;\n      this.paused = false;\n      this.tRex.update(0, Trex.status.RUNNING);\n      this.time = getTimeStamp();\n      this.update();\n    }\n  }\n\n  restart() {\n    if (!this.raqId) {\n      this.playCount++;\n      this.runningTime = 0;\n      this.playing = true;\n      this.crashed = false;\n      this.distanceRan = 0;\n      this.setSpeed(this.config.SPEED);\n      this.time = getTimeStamp();\n      this.containerEl.classList.remove(Runner.classes.CRASHED);\n      this.clearCanvas();\n      this.distanceMeter.reset(this.highestScore);\n      this.horizon.reset();\n      this.tRex.reset();\n      this.playSound(this.soundFx.BUTTON_PRESS);\n      this.invert(true);\n      this.update();\n    }\n  }\n\n  /**\n   * Pause the game if the tab is not in focus.\n   */\n  onVisibilityChange(e) {\n    if (document.hidden || document.webkitHidden || e.type == 'blur' ||\n      document.visibilityState != 'visible') {\n      this.stop();\n    } else if (!this.crashed) {\n      this.tRex.reset();\n      this.play();\n    }\n  }\n\n  /**\n   * Play a sound.\n   * @param {SoundBuffer} soundBuffer\n   */\n  playSound(soundBuffer) {\n    if (soundBuffer) {\n      let sourceNode = this.audioContext.createBufferSource();\n      sourceNode.buffer = soundBuffer;\n      sourceNode.connect(this.audioContext.destination);\n      sourceNode.start(0);\n    }\n  }\n\n  /**\n   * Inverts the current page / canvas colors.\n   * @param {boolean} Whether to reset colors.\n   */\n  invert(reset) {\n    if (reset) {\n      document.body.classList.toggle(Runner.classes.INVERTED, false);\n      this.invertTimer = 0;\n      this.inverted = false;\n    } else {\n      this.inverted = document.body.classList.toggle(Runner.classes.INVERTED,\n        this.invertTrigger);\n    }\n  }\n}\n\nRunner = Object.assign(Runner, runnerConfig);\n\nRunner.updateCanvasScaling = (canvas, opt_width, opt_height) => {\n  let context = canvas.getContext('2d');\n\n  // Query the let pixel ratios\n  let devicePixelRatio = Math.floor(window.devicePixelRatio) || 1;\n  let backingStoreRatio = Math.floor(context.webkitBackingStorePixelRatio) || 1;\n  let ratio = devicePixelRatio / backingStoreRatio;\n\n  // Upscale the canvas if the two ratios don't match\n  if (devicePixelRatio !== backingStoreRatio) {\n    let oldWidth = opt_width || canvas.width;\n    let oldHeight = opt_height || canvas.height;\n\n    canvas.width = oldWidth * ratio;\n    canvas.height = oldHeight * ratio;\n\n    canvas.style.width = oldWidth + 'px';\n    canvas.style.height = oldHeight + 'px';\n\n    // Scale the context to counter the fact that we've manually scaled\n    // our canvas element.\n    context.scale(ratio, ratio);\n    return true;\n  } else if (devicePixelRatio == 1) {\n    // Reset the canvas width / height. Fixes scaling bug when the page is\n    // zoomed and the devicePixelRatio changes accordingly.\n    canvas.style.width = canvas.width + 'px';\n    canvas.style.height = canvas.height + 'px';\n  }\n  return false;\n};\n\nexport default Runner;\n\n\n\n// WEBPACK FOOTER //\n// ./src/runner/runner.js","import {CollisionBox} from '../collision';\n\nexport const config = {\n  BOTTOM_PAD: 10,\n  DROP_VELOCITY: -11,\n  GRAVITY: 1.0,\n  HEIGHT: 132,\n  HEIGHT_DUCK: 90,\n  INIITAL_JUMP_VELOCITY: -16,\n  INTRO_DURATION: 1200,\n  MAX_JUMP_HEIGHT: 120,\n  MIN_JUMP_HEIGHT: 80,\n  SPEED_DROP_COEFFICIENT: 3,\n  START_X_POS: 50,\n  WIDTH: 70,\n  WIDTH_DUCK: 70\n};\n\nexport const sourceDimensions = {\n  WIDTH: 187,\n  HEIGHT: 354,\n  WIDTH_DUCK: 181,\n  HEIGHT_DUCK: 254,  \n};\n\nexport const collisionBoxes = {\n  DUCKING: [\n    new CollisionBox(23, 42, 24, 4),\n    new CollisionBox(6, 46, 63, 19),\n    new CollisionBox(3, 65, 62, 67)\n  ],\n  RUNNING: [\n    new CollisionBox(19, 0, 26, 11),\n    new CollisionBox(5, 11, 54, 13),\n    new CollisionBox(1, 24, 64, 17),\n    new CollisionBox(0, 41, 55,42),\n    new CollisionBox(55, 41, 15, 8),\n    new CollisionBox(3, 83, 19, 40),\n    new CollisionBox(42, 83, 17, 49)\n  ]\n};\n\nexport const status = {\n  CRASHED: 'CRASHED',\n  DUCKING: 'DUCKING',\n  JUMPING: 'JUMPING',\n  RUNNING: 'RUNNING',\n  WAITING: 'WAITING'\n};\n\nexport const BLINK_TIMING = 7000;\n\nexport const animFrames = {\n    WAITING: {\n        frames: [188, 0],\n        msPerFrame: 1500 / 3\n    },\n    RUNNING: {\n        frames: [376, 564],\n        msPerFrame: 1500 / 12\n    },\n    CRASHED: {\n        frames: [940],\n        msPerFrame: 1500 / 60\n    },\n    JUMPING: {\n        frames: [0],\n        msPerFrame: 1500 / 60\n    },\n    DUCKING: {\n        frames: [1125, 1306],\n        msPerFrame: 1500 / 8\n    }\n};\n\nexport const spriteIds = {\n  LDPI: {\n      TREX: 'trex-1x'\n  },\n  HDPI: {\n      TREX: 'trex-2x'\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/trex-config.js","import {\n  trexConfig,\n  DIMENSIONS,\n} from 'Configs';\n\nexport class CollisionBox {\n  constructor(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n  }\n};\n\n/**\n * Check for a collision.\n * @param {!Obstacle} obstacle\n * @param {!Trex} tRex T-rex object.\n * @param {HTMLCanvasContext} opt_canvasCtx Optional canvas context for drawing\n *    collision boxes.\n * @return {Array<CollisionBox>}\n */\nexport function checkForCollision(obstacle, tRex, opt_canvasCtx) {\n  let obstacleBoxXPos = DIMENSIONS.WIDTH + obstacle.xPos;\n\n  // Adjustments are made to the bounding box as there is a 1 pixel white\n  // border around the t-rex and obstacles.\n  let tRexBox = new CollisionBox(\n    tRex.xPos + 1,\n    tRex.yPos + 1,\n    tRex.config.WIDTH - 2,\n    tRex.config.HEIGHT - 2);\n\n  let obstacleBox = new CollisionBox(\n    obstacle.xPos + 1,\n    obstacle.yPos + 1,\n    obstacle.typeConfig.width * obstacle.size - 2,\n    obstacle.typeConfig.height - 2);\n\n  // Debug outer box\n  if (opt_canvasCtx) {\n    drawCollisionBoxes(opt_canvasCtx, tRexBox, obstacleBox);\n  }\n\n  // Simple outer bounds check.\n  if (boxCompare(tRexBox, obstacleBox)) {\n    let collisionBoxes = obstacle.collisionBoxes;\n    let tRexCollisionBoxes = tRex.ducking ?\n      trexConfig.collisionBoxes.DUCKING : trexConfig.collisionBoxes.RUNNING;\n\n    // Detailed axis aligned box check.\n    for (let t = 0; t < tRexCollisionBoxes.length; t++) {\n      for (let i = 0; i < collisionBoxes.length; i++) {\n        // Adjust the box to actual positions.\n        let adjTrexBox =\n          createAdjustedCollisionBox(tRexCollisionBoxes[t], tRexBox);\n        let adjObstacleBox =\n          createAdjustedCollisionBox(collisionBoxes[i], obstacleBox);\n        let crashed = boxCompare(adjTrexBox, adjObstacleBox);\n\n        // Draw boxes for debug.\n        if (opt_canvasCtx) {\n          drawCollisionBoxes(opt_canvasCtx, adjTrexBox, adjObstacleBox);\n        }\n\n        if (crashed) {\n          return [adjTrexBox, adjObstacleBox];\n        }\n      }\n    }\n  }\n  return false;\n};\n\n\n/**\n * Adjust the collision box.\n * @param {!CollisionBox} box The original box.\n * @param {!CollisionBox} adjustment Adjustment box.\n * @return {CollisionBox} The adjusted collision box object.\n */\nexport function createAdjustedCollisionBox(box, adjustment) {\n  return new CollisionBox(\n    box.x + adjustment.x,\n    box.y + adjustment.y,\n    box.width,\n    box.height);\n};\n\n\n/**\n * Draw the collision boxes for debug.\n */\nexport function drawCollisionBoxes(canvasCtx, tRexBox, obstacleBox) {\n  canvasCtx.save();\n  canvasCtx.strokeStyle = '#f00';\n  canvasCtx.strokeRect(tRexBox.x, tRexBox.y, tRexBox.width, tRexBox.height);\n\n  canvasCtx.strokeStyle = '#0f0';\n  canvasCtx.strokeRect(obstacleBox.x, obstacleBox.y,\n    obstacleBox.width, obstacleBox.height);\n  canvasCtx.restore();\n};\n\n\n/**\n * Compare two collision boxes for a collision.\n * @param {CollisionBox} tRexBox\n * @param {CollisionBox} obstacleBox\n * @return {boolean} Whether the boxes intersected.\n */\nexport function boxCompare(tRexBox, obstacleBox) {\n  let crashed = false;\n  let tRexBoxX = tRexBox.x;\n  let tRexBoxY = tRexBox.y;\n\n  let obstacleBoxX = obstacleBox.x;\n  let obstacleBoxY = obstacleBox.y;\n\n  // Axis-Aligned Bounding Box method.\n  if (tRexBox.x < obstacleBoxX + obstacleBox.width &&\n    tRexBox.x + tRexBox.width > obstacleBoxX &&\n    tRexBox.y < obstacleBox.y + obstacleBox.height &&\n    tRexBox.height + tRexBox.y > obstacleBox.y) {\n    crashed = true;\n  }\n\n  return crashed;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/collision/collisionBox.js","export const config = {\n  HEIGHT: 21,\n  MAX_CLOUD_GAP: 800,\n  MAX_SKY_LEVEL: 54,\n  MIN_CLOUD_GAP: 150,\n  MIN_SKY_LEVEL: 150,\n  WIDTH: 69\n};\n\nexport const sourceDimensions = {\n  HEIGHT: 14,\n  WIDTH: 46\n};\n\n\nexport const spriteIds = {\n  LDPI: {\n      CLOUD: 'cloud-1x'\n  },\n  HDPI: {\n      CLOUD: 'cloud-2x'\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/cloud-config.js","import {\n  DEFAULT_WIDTH,\n  DEFAULT_HEIGHT\n} from './consts';\n\nexport const config = {\n  ACCELERATION: 0.001,\n  CLEAR_TIME: 3000,\n  GAMEOVER_CLEAR_TIME: 750,\n  INVERT_FADE_DURATION: 10000,\n  INVERT_DISTANCE: 500,\n  MAX_BLINK_COUNT: 3,\n  MAX_SPEED: 13,\n  MOBILE_SPEED_COEFFICIENT: 1.2,\n  RESOURCE_TEMPLATE_ID: 'audio-resources',\n  SPEED: 6,\n};\n\nexport const classes = {\n  CANVAS: 'runner-canvas',\n  CONTAINER: 'runner-container',\n  CRASHED: 'crashed',\n  ICON: 'icon-offline',\n  INVERTED: 'inverted',\n  SNACKBAR: 'snackbar',\n  SNACKBAR_SHOW: 'snackbar-show',\n  TOUCH_CONTROLLER: 'controller'\n};\n\nexport const events = {\n  ANIM_END: 'webkitAnimationEnd',\n  CLICK: 'click',\n  KEYDOWN: 'keydown',\n  KEYUP: 'keyup',\n  MOUSEDOWN: 'mousedown',\n  MOUSEUP: 'mouseup',\n  RESIZE: 'resize',\n  TOUCHEND: 'touchend',\n  TOUCHSTART: 'touchstart',\n  VISIBILITY: 'visibilitychange',\n  BLUR: 'blur',\n  FOCUS: 'focus',\n  LOAD: 'load'\n};\n\nexport const spriteIds = {\n  LDPI: {\n      HORIZON: 'horizonLine-1x',\n      CLOUD: 'cloud-1x',\n      MOON: 'moon-1x',\n      STAR: 'star-1x',\n      CACTUS_SMALL: 'cactusSmall-1x',\n      CACTUS_LARGE: 'cactusLarge-1x',\n      PTERODACTYL: 'pterodactyl-1x',\n      TREX: 'trex-1x',\n      TEXT_SPRITE: 'text-1x',\n      GAME_OVER: 'gameOver-1x',\n      RESTART: 'restart-1x'\n  },\n  HDPI: {\n      HORIZON: 'horizonLine-2x',\n      CLOUD: 'cloud-2x',\n      MOON: 'moon-2x',\n      STAR: 'star-2x',\n      CACTUS_SMALL: 'cactusSmall-2x',\n      CACTUS_LARGE: 'cactusLarge-2x',\n      PTERODACTYL: 'pterodactyl-2x',\n      TREX: 'trex-2x',\n      TEXT_SPRITE: 'text-2x',\n      GAME_OVER: 'gameOver-2x',\n      RESTART: 'restart-2x'\n  }\n};\n\nexport const sounds = {\n  BUTTON_PRESS: 'offline-sound-press',\n  HIT: 'offline-sound-hit',\n  SCORE: 'offline-sound-reached'\n};\n\nexport const keycodes = {\n  JUMP: { '38': 1, '32': 1 },  // Up, spacebar\n  DUCK: { '40': 1 },  // Down\n  RESTART: { '13': 1 }  // Enter\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/runner-config.js","export const config = {\n  BG_CLOUD_SPEED: 0.2,\n  CLOUD_FREQUENCY: .5,\n  MAX_OBSTACLE_DUPLICATION: 2,\n  MAX_CLOUDS: 3\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/horizon-config.js","import { CollisionBox } from '../collision';\n\nexport const MAX_GAP_COEFFICIENT = 1.0;\n\nexport const GAP_COEFFICIENT = 0.5;\n\nexport const MAX_OBSTACLE_LENGTH = 3;\n\nexport const types = [{\n  type: 'CACTUS_SMALL',\n  width: 42,\n  height: 80,\n  sourceDimensions: {\n    width: 34,\n    height: 70,\n  },\n  yPos: 178,\n  multipleSpeed: 4,\n  minGap: 240,\n  minSpeed: 0,\n  collisionBoxes: {\n    '1': [ new CollisionBox(0, 0, 42, 80) ],\n    '2': [ \n      new CollisionBox(4, 1, 41, 75),\n      new CollisionBox(45, 13, 35, 63),\n    ],\n    '3': [ \n      new CollisionBox(0, 4, 43, 72),\n      new CollisionBox(43, 26, 77, 50),\n     ]\n  }\n}, \n{\n  type: 'CACTUS_LARGE',\n  width: 44,\n  height: 92,\n  sourceDimensions: {\n    width: 50,\n    height: 100,\n  },\n  yPos: 168,\n  multipleSpeed: 7,\n  minGap: 240,\n  minSpeed: 0,\n  collisionBoxes: {\n    '1': [ new CollisionBox(0, 0, 44, 92) ],\n    '2': [ new CollisionBox(0, 0, 88, 92) ],\n    '3': [ new CollisionBox(0, 0, 132, 92) ]\n  }\n}, {\n  type: 'PTERODACTYL',\n  width: 84,\n  height: 72,\n  sourceDimensions: {\n    width: 46,\n    height: 40,\n  },\n  yPos: [200, 100, 75], // Variable height.\n  yPosMobile: [100, 50], // Variable height mobile.\n  multipleSpeed: 999,\n  minSpeed: 8.5,\n  minGap: 300,\n  collisionBoxes: {\n    '1': [  new CollisionBox(0, 25, 84, 11) ]\n  }\n  ,\n  numFrames: 2,\n  frameRate: 2000 / 6,\n  speedOffset: .8\n}\n];\n\nexport const spriteIds = {\n  LDPI: {\n      CACTUS_SMALL: 'cactusSmall-1x',\n      CACTUS_LARGE: 'cactusLarge-1x',\n      PTERODACTYL: 'pterodactyl-1x',\n\n  },\n  HDPI: {\n      CACTUS_SMALL: 'cactusSmall-2x',\n      CACTUS_LARGE: 'cactusLarge-2x',\n      PTERODACTYL: 'pterodactyl-2x',\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/obstacle-config.js","export const config = {\n  FADE_SPEED: 0.035,\n  HEIGHT: 50,\n  MOON_SPEED: 0.25,\n  NUM_STARS: 2,\n  STAR_SIZE: 9,\n  STAR_SPEED: 0.3,\n  STAR_MAX_Y: 100,\n  WIDTH: 25\n};\n\nexport const sourceDimensions = {\n  moon: {\n    WIDTH: 20,\n    HEIGHT: 40,\n  },\n  STAR_SIZE: 9,\n};\n\n\nexport const spriteIds = {\n  LDPI: {\n      MOON: 'moon-1x',\n      STAR: 'star-1x'\n  },\n  HDPI: {\n      MOON: 'moon-2x',\n      STAR: 'star-2x'\n  }\n};\nexport const phases = [140, 120, 100, 60, 40, 20, 0];\n\n\n// WEBPACK FOOTER //\n// ./src/config/nightMode-config.js","export const dimensions = {\n  WIDTH: 900,\n  HEIGHT: 23,\n  YPOS: 234\n};\n\nexport const sourceDimensions = {\n  WIDTH: 600,\n  HEIGHT: 12,\n};\n\n\nexport const spriteIds = {\n  LDPI: {\n      HORIZON: 'horizonLine-1x',\n  },\n  HDPI: {\n      HORIZON: 'horizonLine-2x',\n  }\n};\n\nexport const BUMP_THRESHOLD = .5;\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/horizonLine-config.js","export const dimensions = {\n  WIDTH: 10,\n  HEIGHT: 13,\n  DEST_WIDTH: 11\n};\n\n\n/**\n * Y positioning of the digits in the sprite sheet.\n * X position is always 0.\n * @type {Array<number>}\n */\nexport const yPos = [0, 13, 27, 40, 53, 67, 80, 93, 107, 120];\n\n\n/**\n * Distance meter config.\n * @enum {number}\n */\nexport const config = {\n  // Number of digits.\n  MAX_DISTANCE_UNITS: 5,\n\n  // Distance that causes achievement animation.\n  ACHIEVEMENT_DISTANCE: 100,\n\n  // Used for conversion from pixel distance to a scaled unit.\n  COEFFICIENT: 0.025,\n\n  // Flash duration in milliseconds.\n  FLASH_DURATION: 1000 / 4,\n\n  // Flash iterations for achievement animation.\n  FLASH_ITERATIONS: 3\n};\n\nexport const spriteIds = {\n  LDPI: {\n      TEXT_SPRITE: 'text-1x',\n  },\n  HDPI: {\n      TEXT_SPRITE: 'text-2x',\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/distanceMeter-config.js","export const dimensions = {\n  TEXT_X: 0,\n  TEXT_Y: 0,\n  TEXT_WIDTH: 191,\n  TEXT_HEIGHT: 11,\n  RESTART_WIDTH: 36,\n  RESTART_HEIGHT: 32\n};\n\nexport const spriteIds = {\n  LDPI: {\n      GAME_OVER: 'gameOver-1x',\n      RESTART: 'restart-1x'\n  },\n  HDPI: {\n      GAME_OVER: 'gameOver-2x',\n      RESTART: 'restart-2x'\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config/gameOverPanel-config.js","import Horizon from './horizon';\n\nexport default Horizon;\n\n\n// WEBPACK FOOTER //\n// ./src/horizon/index.js","import { \n  horizonConfig,\n  DIMENSIONS,\n} from 'Configs';\nimport HorizonLine from './horizonLine';\nimport NightMode from '../nightMode';\nimport Cloud from '../cloud';\nimport Obstacle from '../obstacle';\nimport { getRandomNum } from '../service';\n\nclass Horizon {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.config = Horizon.config;\n    this.obstacles = [];\n    this.obstacleHistory = [];\n    this.dimensions = DIMENSIONS;\n    this.cloudFrequency = this.config.CLOUD_FREQUENCY;\n    this.nightMode = null;\n\n    // Cloud\n    this.clouds = [];\n    this.cloudSpeed = this.config.BG_CLOUD_SPEED;\n\n    // Horizon\n    this.horizonLine = null;\n    this.init();\n  }\n\n  init() {\n    this.addCloud();\n    this.horizonLine = new HorizonLine(this.canvas);\n    this.nightMode = new NightMode(this.canvas);\n  }\n\n  /**\n   * @param {number} deltaTime\n   * @param {number} currentSpeed\n   * @param {boolean} updateObstacles Used as an override to prevent\n   *     the obstacles from being updated / added. This happens in the\n   *     ease in section.\n   * @param {boolean} showNightMode Night mode activated.\n   */\n  update(deltaTime, currentSpeed, updateObstacles, showNightMode) {\n    this.runningTime += deltaTime;\n    this.horizonLine.update(deltaTime, currentSpeed);\n    this.nightMode.update(showNightMode);\n    this.updateClouds(deltaTime, currentSpeed);\n\n    if (updateObstacles) {\n      this.updateObstacles(deltaTime, currentSpeed);\n    }\n  }\n\n  /**\n   * Update the cloud positions.\n   * @param {number} deltaTime\n   * @param {number} currentSpeed\n   */\n  updateClouds(deltaTime, speed) {\n    var cloudSpeed = this.cloudSpeed / 1000 * deltaTime * speed;\n    var numClouds = this.clouds.length;\n\n    if (numClouds) {\n      for (var i = numClouds - 1; i >= 0; i--) {\n        this.clouds[i].update(cloudSpeed);\n      }\n\n      var lastCloud = this.clouds[numClouds - 1];\n\n      // Check for adding a new cloud.\n      if (numClouds < this.config.MAX_CLOUDS &&\n        (this.dimensions.WIDTH - lastCloud.xPos) > lastCloud.cloudGap &&\n        this.cloudFrequency > Math.random()) {\n        this.addCloud();\n      }\n\n      // Remove expired clouds.\n      this.clouds = this.clouds.filter(function(obj) {\n        return !obj.remove;\n      });\n    } else {\n      this.addCloud();\n    }\n  }\n\n  /**\n   * Update the obstacle positions.\n   * @param {number} deltaTime\n   * @param {number} currentSpeed\n   */\n  updateObstacles(deltaTime, currentSpeed) {\n    // Obstacles, move to Horizon layer.\n    var updatedObstacles = this.obstacles.slice(0);\n\n    for (var i = 0; i < this.obstacles.length; i++) {\n      var obstacle = this.obstacles[i];\n      obstacle.update(deltaTime, currentSpeed);\n\n      // Clean up existing obstacles.\n      if (obstacle.remove) {\n        updatedObstacles.shift();\n      }\n    }\n    this.obstacles = updatedObstacles;\n\n    if (this.obstacles.length > 0) {\n      var lastObstacle = this.obstacles[this.obstacles.length - 1];\n\n      if (lastObstacle && !lastObstacle.followingObstacleCreated &&\n        lastObstacle.isVisible() &&\n        (lastObstacle.xPos + lastObstacle.width + lastObstacle.gap) <\n        this.dimensions.WIDTH) {\n        this.addNewObstacle(currentSpeed);\n        lastObstacle.followingObstacleCreated = true;\n      }\n    } else {\n      // Create new obstacles.\n      this.addNewObstacle(currentSpeed);\n    }\n  }\n\n  removeFirstObstacle() {\n    this.obstacles.shift();\n  }\n\n  /**\n   * Add a new obstacle.\n   * @param {number} currentSpeed\n   */\n  addNewObstacle(currentSpeed) {\n    var obstacleTypeIndex = getRandomNum(0, Obstacle.types.length - 1);\n    var obstacleType = Obstacle.types[obstacleTypeIndex];\n\n    // Check for multiples of the same type of obstacle.\n    // Also check obstacle is available at current speed.\n    if (this.duplicateObstacleCheck(obstacleType.type) ||\n      currentSpeed < obstacleType.minSpeed) {\n      this.addNewObstacle(currentSpeed);\n    } else {\n      this.obstacles.push(new Obstacle(this.canvasCtx, obstacleType,\n        currentSpeed));\n\n      this.obstacleHistory.unshift(obstacleType.type);\n\n      if (this.obstacleHistory.length > 1) {\n        this.obstacleHistory.splice(Horizon.config.MAX_OBSTACLE_DUPLICATION);\n      }\n    }\n  }\n\n  /**\n   * Returns whether the previous two obstacles are the same as the next one.\n   * Maximum duplication is set in config value MAX_OBSTACLE_DUPLICATION.\n   * @return {boolean}\n   */\n  duplicateObstacleCheck(nextObstacleType) {\n    var duplicateCount = 0;\n\n    for (var i = 0; i < this.obstacleHistory.length; i++) {\n      duplicateCount = this.obstacleHistory[i] == nextObstacleType ?\n        duplicateCount + 1 : 0;\n    }\n    return duplicateCount >= Horizon.config.MAX_OBSTACLE_DUPLICATION;\n  }\n\n  /**\n   * Reset the horizon layer.\n   * Remove existing obstacles and reposition the horizon line.\n   */\n  reset() {\n    this.obstacles = [];\n    this.horizonLine.reset();\n    this.nightMode.reset();\n  }\n\n  /**\n   * Update the canvas width and scaling.\n   * @param {number} width Canvas width.\n   * @param {number} height Canvas height.\n   */\n  resize(width, height) {\n    this.canvas.width = width;\n    this.canvas.height = height;\n  }\n\n  /**\n   * Add a new cloud to the horizon.\n   */\n  addCloud() {\n    this.clouds.push(new Cloud(this.canvas));\n  }\n};\n\nHorizon = Object.assign(Horizon, horizonConfig);\n\nexport default Horizon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/horizon/horizon.js","import {\n  FPS,\n  IS_HIDPI,\n  horizonLineConfig\n} from 'Configs';\n\nclass HorizonLine {\n  constructor(canvas) {\n    this.spritePos = {x: 0, y: 0};\n    this.sourceDimensions = HorizonLine.sourceDimensions;\n    this.sprite = null;\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.dimensions = HorizonLine.dimensions;\n    this.sourceXPos = [this.spritePos.x, this.spritePos.x +\n        this.sourceDimensions.WIDTH];\n    this.xPos = [];\n    this.yPos = 0;\n    this.bumpThreshold = HorizonLine.BUMP_THRESHOLD;\n\n    this.setSourceDimensions();\n    this.setSprite();\n    this.draw();\n  }\n\n  /**\n   * Set the source dimensions of the horizon line.\n   */\n  setSourceDimensions() {\n\n    for (let dimension in HorizonLine.sourceDimensions) {\n      if (IS_HIDPI) {\n        if (dimension != 'YPOS') {\n          this.sourceDimensions[dimension] = HorizonLine.sourceDimensions[dimension] * 2;\n        }\n      } else {\n        this.sourceDimensions[dimension] = HorizonLine.sourceDimensions[dimension];\n      }\n\n      this.dimensions[dimension] = HorizonLine.dimensions[dimension];\n    }\n\n    this.xPos = [0, HorizonLine.dimensions.WIDTH];\n    this.yPos = HorizonLine.dimensions.YPOS;\n  }\n\n  setSprite() {\n    if (IS_HIDPI) {\n      this.sprite = document.getElementById(HorizonLine.spriteIds.HDPI.HORIZON);\n    } else {\n      this.sprite = document.getElementById(HorizonLine.spriteIds.LDPI.HORIZON)\n    }\n  }\n\n  /**\n   * Return the crop x position of a type.\n   */\n  getRandomType() {\n    return Math.random() > this.bumpThreshold ? this.sourceDimensions.WIDTH : 0;\n  }\n\n  /**\n   * Draw the horizon line.\n   */\n  draw() {\n    this.canvasCtx.drawImage(this.sprite, this.sourceXPos[0],\n      this.spritePos.y,\n      this.sourceDimensions.WIDTH, this.sourceDimensions.HEIGHT,\n      this.xPos[0], this.yPos,\n      this.dimensions.WIDTH, this.dimensions.HEIGHT);\n\n    this.canvasCtx.drawImage(this.sprite, this.sourceXPos[1],\n      this.spritePos.y,\n      this.sourceDimensions.WIDTH, this.sourceDimensions.HEIGHT,\n      this.xPos[1], this.yPos,\n      this.dimensions.WIDTH, this.dimensions.HEIGHT);\n  }\n\n  /**\n   * Update the x position of an indivdual piece of the line.\n   * @param {number} pos Line position.\n   * @param {number} increment\n   */\n  updateXPos(pos, increment) {\n    let line1 = pos;\n    let line2 = pos == 0 ? 1 : 0;\n    this.xPos[line1] -= increment;\n    this.xPos[line2] = this.xPos[line1] + this.dimensions.WIDTH;\n\n    if (this.xPos[line1] <= -this.dimensions.WIDTH) {\n      this.xPos[line1] += this.dimensions.WIDTH *2 ;\n      this.xPos[line2] = this.xPos[line1] - this.dimensions.WIDTH;\n      this.sourceXPos[line1] = this.getRandomType() + this.spritePos.x;\n    }\n\n  }\n\n  /**\n   * Update the horizon line.\n   * @param {number} deltaTime\n   * @param {number} speed\n   */\n  update(deltaTime, speed) {\n    let increment = Math.floor(speed * (FPS / 1000) * deltaTime);\n\n    if (this.xPos[0] <= 0) {\n      this.updateXPos(0, increment);\n    } else {\n      this.updateXPos(1, increment);\n    }\n    this.draw();\n  }\n\n  /**\n   * Reset horizon to the starting position.\n   */\n  reset() {\n    this.xPos[0] = 0;\n    this.xPos[1] = HorizonLine.dimensions.WIDTH;\n  }\n};\n\nHorizonLine = Object.assign(HorizonLine, horizonLineConfig);\n\nexport default HorizonLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/horizon/horizonLine.js","import NightMode from './nightMode';\n\nexport default NightMode;\n\n\n// WEBPACK FOOTER //\n// ./src/nightMode/index.js","import { \n  nightModeConfig,\n  IS_HIDPI,\n  DIMENSIONS,\n} from 'Configs';\nimport { getRandomNum } from '../service';\n\nclass NightMode {\n  constructor(canvas) {\n    this.moonSpritePos = {x:0, y:0};\n    this.starSpritePos = {x:0, y:0};\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.xPos = DIMENSIONS.WIDTH - 50;\n    this.yPos = 30;\n    this.currentPhase = 0;\n    this.opacity = 0;\n    this.containerWidth = DIMENSIONS.WIDTH;\n    this.stars = [];\n    this.drawStars = false;\n\n    this.setSprite();\n    this.placeStars();\n  }\n\n  setSprite() {\n    if (IS_HIDPI) {\n      this.moonSprite = document.getElementById(NightMode.spriteIds.HDPI.MOON);\n      this.starSprite = document.getElementById(NightMode.spriteIds.HDPI.STAR)\n    } else {\n      this.moonSprite = document.getElementById(NightMode.spriteIds.LDPI.MOON);\n      this.starSprite = document.getElementById(NightMode.spriteIds.LDPI.STAR)\n    }\n  }\n\n  update(activated, delta) {\n    // Moon phase.\n    if (activated && this.opacity == 0) {\n      this.currentPhase++;\n\n      if (this.currentPhase >= NightMode.phases.length) {\n        this.currentPhase = 0;\n      }\n    }\n\n    // Fade in / out.\n    if (activated && (this.opacity < 1 || this.opacity == 0)) {\n      this.opacity += NightMode.config.FADE_SPEED;\n    } else if (this.opacity > 0) {\n      this.opacity -= NightMode.config.FADE_SPEED;\n    }\n\n    // Set moon positioning.\n    if (this.opacity > 0) {\n      this.xPos = this.updateXPos(this.xPos, NightMode.config.MOON_SPEED);\n\n      // Update stars.\n      if (this.drawStars) {\n        for (let i = 0; i < NightMode.config.NUM_STARS; i++) {\n          this.stars[i].x = this.updateXPos(this.stars[i].x,\n            NightMode.config.STAR_SPEED);\n        }\n      }\n      this.draw();\n    } else {\n      this.opacity = 0;\n      this.placeStars();\n    }\n    this.drawStars = true;\n  }\n\n  updateXPos(currentPos, speed) {\n    if (currentPos < -NightMode.config.WIDTH) {\n      currentPos = this.containerWidth;\n    } else {\n      currentPos -= speed;\n    }\n    return currentPos;\n  }\n\n  draw() {\n    let moonSourceWidth = this.currentPhase == 3 ? NightMode.sourceDimensions.moon.WIDTH * 2 :\n        NightMode.sourceDimensions.moon.WIDTH;\n    let moonSourceHeight = NightMode.sourceDimensions.moon.HEIGHT;\n    let moonSourceX = this.moonSpritePos.x + NightMode.phases[this.currentPhase];\n    let moonOutputWidth = this.currentPhase == 3 ? NightMode.config.WIDTH * 2 :\n        NightMode.config.WIDTH;\n    let sourceStarSize = NightMode.sourceDimensions.STAR_SIZE;\n    let starSourceX = this.starSpritePos.x;\n\n    if (IS_HIDPI) {\n        moonSourceWidth *= 2;\n        moonSourceHeight *= 2;\n        moonSourceX = this.moonSpritePos.x +\n            (NightMode.phases[this.currentPhase] * 2);\n        sourceStarSize *= 2;\n        starSourceX = this.starSpritePos.x;\n    }\n\n    this.canvasCtx.save();\n    this.canvasCtx.globalAlpha = this.opacity;\n\n    // Stars.\n    if (this.drawStars) {\n        for (let i = 0; i < NightMode.config.NUM_STARS; i++) {\n            this.canvasCtx.drawImage(this.starSprite,\n                starSourceX, this.stars[i].sourceY, sourceStarSize, sourceStarSize,\n                Math.round(this.stars[i].x), this.stars[i].y,\n                NightMode.config.STAR_SIZE, NightMode.config.STAR_SIZE);\n        }\n    }\n\n    // Moon.\n    console.log(moonSourceX);\n    this.canvasCtx.drawImage(this.moonSprite, moonSourceX,\n        this.moonSpritePos.y, moonSourceWidth, moonSourceHeight,\n        Math.round(this.xPos), this.yPos,\n        moonOutputWidth, NightMode.config.HEIGHT);\n\n    this.canvasCtx.globalAlpha = 1;\n    this.canvasCtx.restore();\n  }\n\n  // Do star placement.\n  placeStars() {\n    let segmentSize = Math.round(this.containerWidth /\n      NightMode.config.NUM_STARS);\n\n    for (let i = 0; i < NightMode.config.NUM_STARS; i++) {\n      this.stars[i] = {};\n      this.stars[i].x = getRandomNum(segmentSize * i, segmentSize * (i + 1));\n      this.stars[i].y = getRandomNum(0, NightMode.config.STAR_MAX_Y);\n\n      if (IS_HIDPI) {\n        this.stars[i].sourceY = this.starSpritePos.y +\n          NightMode.config.STAR_SIZE * 2 * i;\n      } else {\n        this.stars[i].sourceY = this.starSpritePos.y +\n          NightMode.config.STAR_SIZE * i;\n      }\n    }\n  }\n\n  reset() {\n    this.currentPhase = 0;\n    this.opacity = 0;\n    this.update(false);\n  }\n};\n\nNightMode = Object.assign(NightMode, nightModeConfig);\n\nexport default NightMode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/nightMode/nightMode.js","import {\n  cloudConfig,\n  IS_HIDPI,\n  DIMENSIONS,\n} from 'Configs';\nimport { getRandomNum } from '../service';\n\nclass Cloud {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.canvasCtx = this.canvas.getContext('2d');\n    this.spritePos = { x: 0, y: 0 };\n    this.containerWidth = DIMENSIONS.WIDTH;\n    this.xPos = DIMENSIONS.WIDTH;\n    this.yPos = 0;\n    this.remove = false;\n\n    this.sourceDimensions = Cloud.sourceDimensions;\n\n    this.sprite = Cloud.CLOUD_SPRITE;\n\n    this.init();\n  }\n\n  init() {\n    this.yPos = getRandomNum(Cloud.config.MAX_SKY_LEVEL,\n      Cloud.config.MIN_SKY_LEVEL);\n    this.draw();\n  }\n\n  /**\n   * Draw the cloud.\n   */\n  draw() {\n    this.canvasCtx.save();\n    \n    let sourceWidth = this.sourceDimensions.WIDTH;\n    let sourceHeight = this.sourceDimensions.HEIGHT;\n\n    if (IS_HIDPI) {\n      sourceWidth = sourceWidth * 2;\n      sourceHeight = sourceHeight * 2;\n    }\n\n    this.canvasCtx.drawImage(this.sprite, this.spritePos.x,\n      this.spritePos.y,\n      sourceWidth, sourceHeight,\n      this.xPos, this.yPos,\n      Cloud.config.WIDTH, Cloud.config.HEIGHT);\n\n    this.canvasCtx.restore();\n  }\n\n  /**\n   * Update the cloud position.\n   * @param {number} speed\n   */\n  update(speed) {\n    if (!this.remove) {\n      this.xPos -= Math.ceil(speed);\n      this.draw();\n\n      // Mark as removeable if no longer in the canvas.\n      if (!this.isVisible()) {\n        this.remove = true;\n      }\n    }\n  }\n\n  /**\n   * Check if the cloud is visible on the stage.\n   * @return {boolean}\n   */\n  isVisible() {\n    return this.xPos + Cloud.config.WIDTH > 0;\n  }\n};\n\nCloud = Object.assign(Cloud, cloudConfig);\n\nCloud.initSprites = () => {\n  if (IS_HIDPI) {\n    Cloud.CLOUD_SPRITE = document.getElementById(Cloud.spriteIds.HDPI.CLOUD);\n  } else {\n    Cloud.CLOUD_SPRITE = document.getElementById(Cloud.spriteIds.LDPI.CLOUD);\n  }\n};\n\nexport default Cloud;\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloud/cloud.js","import {\n  obstacleConfig,\n  IS_MOBILE,\n  IS_HIDPI,\n  FPS,\n  DIMENSIONS,\n} from 'Configs';\nimport { CollisionBox } from '../collision';\nimport { getRandomNum } from '../service';\n\nclass Obstacle {\n  constructor(canvasCtx, type, speed) {\n    this.canvasCtx = canvasCtx;\n    this.spritePos = {x:0, y:0};\n    this.typeConfig = type;\n    this.gapCoefficient = Obstacle.GAP_COEFFICIENT;\n    this.size = getRandomNum(1, Obstacle.MAX_OBSTACLE_LENGTH);\n    this.dimensions = DIMENSIONS;\n    this.remove = false;\n    this.xPos = DIMENSIONS.WIDTH + (type.width || 0);\n    this.yPos = 0;\n    this.width = 0;\n    this.collisionBoxes = [];\n    this.gap = 0;\n    this.speedOffset = 0;\n\n    // For animated obstacles.\n    this.currentFrame = 0;\n    this.timer = 0;\n\n    this.setSprite(type);\n    this.init(speed);\n  }\n\n  setSprite({type}) {\n    this.sprite = Obstacle[`${type}_SPRITE`];\n  }\n\n  init(speed) {\n    // Only allow sizing if we're at the right speed.\n    if (this.size > 1 && this.typeConfig.multipleSpeed > speed) {\n      this.size = 1;\n    }\n\n    this.collisionBoxes = this.typeConfig.collisionBoxes[this.size]; \n\n    this.width = this.typeConfig.width * this.size;\n\n    // Check if obstacle can be positioned at various heights.\n    if (Array.isArray(this.typeConfig.yPos)) {\n      let yPosConfig = IS_MOBILE ? this.typeConfig.yPosMobile :\n        this.typeConfig.yPos;\n      this.yPos = yPosConfig[getRandomNum(0, yPosConfig.length - 1)];\n    } else {\n      this.yPos = this.typeConfig.yPos;\n    }\n\n    this.draw();\n\n    // For obstacles that go at a different speed from the horizon.\n    if (this.typeConfig.speedOffset) {\n      this.speedOffset = Math.random() > 0.5 ? this.typeConfig.speedOffset :\n        -this.typeConfig.speedOffset;\n    }\n\n    this.gap = this.getGap(this.gapCoefficient, speed);\n  }\n\n  /**\n   * Draw and crop based on size.\n   */\n  draw() {\n    let sourceWidth = this.typeConfig.sourceDimensions.width;\n    let sourceHeight = this.typeConfig.sourceDimensions.height;\n\n    if (IS_HIDPI) {\n      sourceWidth = sourceWidth * 2;\n      sourceHeight = sourceHeight * 2;\n    }\n\n    // X position in sprite.\n    let sourceX = (sourceWidth * this.size) * (0.5 * (this.size - 1)) +\n      this.spritePos.x;\n\n    // Animation frames.\n    if (this.currentFrame > 0) {\n      sourceX += sourceWidth * this.currentFrame;\n    }\n\n    this.canvasCtx.drawImage(this.sprite,\n      sourceX, this.spritePos.y,\n      sourceWidth * this.size, sourceHeight,\n      this.xPos, this.yPos,\n      this.typeConfig.width * this.size, this.typeConfig.height);\n  }\n\n  /**\n   * Obstacle frame update.\n   * @param {number} deltaTime\n   * @param {number} speed\n   */\n  update(deltaTime, speed) {\n    if (!this.remove) {\n      if (this.typeConfig.speedOffset) {\n        speed += this.speedOffset;\n      }\n      this.xPos -= Math.floor((speed * FPS / 1000) * deltaTime);\n\n      // Update frame\n      if (this.typeConfig.numFrames) {\n        this.timer += deltaTime;\n        if (this.timer >= this.typeConfig.frameRate) {\n          this.currentFrame =\n            this.currentFrame == this.typeConfig.numFrames - 1 ?\n            0 : this.currentFrame + 1;\n          this.timer = 0;\n        }\n      }\n      this.draw();\n\n      if (!this.isVisible()) {\n        this.remove = true;\n      }\n    }\n  }\n\n  /**\n   * Calculate a random gap size.\n   * - Minimum gap gets wider as speed increses\n   * @param {number} gapCoefficient\n   * @param {number} speed\n   * @return {number} The gap size.\n   */\n  getGap(gapCoefficient, speed) {\n    let minGap = Math.round(this.width * speed +\n      this.typeConfig.minGap * gapCoefficient);\n    let maxGap = Math.round(minGap * Obstacle.MAX_GAP_COEFFICIENT);\n    return getRandomNum(minGap, maxGap);\n  }\n\n  /**\n   * Check if obstacle is visible.\n   * @return {boolean} Whether the obstacle is in the game area.\n   */\n  isVisible() {\n    return this.xPos + this.width > 0;\n  }\n\n};\n\nObstacle = Object.assign(Obstacle, obstacleConfig);\n\nObstacle.initSprites = () => {\n  for (let {type} of Obstacle.types) {\n    if (IS_HIDPI) {\n      Obstacle[`${type}_SPRITE`] = document.getElementById(Obstacle.spriteIds.HDPI[type])\n    } else {\n      Obstacle[`${type}_SPRITE`] = document.getElementById(Obstacle.spriteIds.LDPI[type]);\n    }  \n  }\n};\n\nexport default Obstacle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/obstacle/obstacle.js","import Trex from './trex';\n\nexport default Trex;\n\n\n// WEBPACK FOOTER //\n// ./src/trex/index.js","import { \n  trexConfig,\n  DIMENSIONS,\n  FPS,\n  IS_HIDPI\n} from 'Configs';\nimport { getTimeStamp } from '../service';\n\nclass Trex {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.spritePos = {x:0, y:0};\n    this.xPos = 0;\n    this.yPos = 0;\n    // Position when on the ground.\n    this.groundYPos = 0;\n    this.currentFrame = 0;\n    this.currentAnimFrames = [];\n    this.blinkDelay = 0;\n    this.blinkCount = 0;\n    this.animStartTime = 0;\n    this.timer = 0;\n    this.msPerFrame = 2000 / FPS;\n    this.config = Trex.config;\n    this.sourceDimensions = Trex.sourceDimensions;\n    // Current status.\n    this.status = Trex.status.WAITING;\n\n    this.jumping = false;\n    this.ducking = false;\n    this.jumpVelocity = 0;\n    this.reachedMinHeight = false;\n    this.speedDrop = false;\n    this.jumpCount = 0;\n    this.jumpspotX = 0;\n\n    this.setSprite();\n    this.init();\n  }\n\n  setSprite() {\n    if (IS_HIDPI) {\n      this.sprite = document.getElementById(Trex.spriteIds.HDPI.TREX);\n    } else {\n      this.sprite = document.getElementById(Trex.spriteIds.LDPI.TREX)\n    }\n  }\n\n  init() {\n    this.groundYPos = DIMENSIONS.HEIGHT - this.config.HEIGHT -\n      this.config.BOTTOM_PAD;\n    this.yPos = this.groundYPos;\n    this.minJumpHeight = this.groundYPos - this.config.MIN_JUMP_HEIGHT;\n\n    this.draw(0, 0);\n    this.update(0, Trex.status.WAITING);\n  }\n\n  /**\n   * Setter for the jump velocity.\n   * The approriate drop velocity is also set.\n   */\n  setJumpVelocity(setting) {\n    this.config.INIITAL_JUMP_VELOCITY = -setting;\n    this.config.DROP_VELOCITY = -setting / 2;\n  }\n\n  /**\n   * Set the animation status.\n   * @param {!number} deltaTime\n   * @param {Trex.status} status Optional status to switch to.\n   */\n  update(deltaTime, opt_status) {\n    this.timer += deltaTime;\n\n    // Update the status.\n    if (opt_status) {\n      this.status = opt_status;\n      this.currentFrame = 0;\n      this.msPerFrame = Trex.animFrames[opt_status].msPerFrame;\n      this.currentAnimFrames = Trex.animFrames[opt_status].frames;\n\n      if (opt_status == Trex.status.WAITING) {\n        this.animStartTime = getTimeStamp();\n        this.setBlinkDelay();\n      }\n    }\n\n    // Game intro animation, T-rex moves in from the left.\n    if (this.playingIntro && this.xPos < this.config.START_X_POS) {\n      this.xPos += Math.round((this.config.START_X_POS /\n        this.config.INTRO_DURATION) * deltaTime);\n    }\n\n    if (this.status == Trex.status.WAITING) {\n      this.blink(getTimeStamp());\n    } else {\n      this.draw(this.currentAnimFrames[this.currentFrame], 0);\n    }\n\n    // Update the frame position.\n    if (this.timer >= this.msPerFrame) {\n      this.currentFrame = this.currentFrame ==\n        this.currentAnimFrames.length - 1 ? 0 : this.currentFrame + 1;\n      this.timer = 0;\n    }\n\n    // Speed drop becomes duck if the down key is still being pressed.\n    if (this.speedDrop && this.yPos == this.groundYPos) {\n      this.speedDrop = false;\n      this.setDuck(true);\n    }\n  }\n\n  /**\n   * Draw the t-rex to a particular position.\n   * @param {number} x\n   * @param {number} y\n   */\n  draw(x, y) {\n    let sourceX = x;\n    let sourceY = y;\n\n    let sourceWidth = this.ducking && this.status != Trex.status.CRASHED ?\n      this.sourceDimensions.WIDTH_DUCK : this.sourceDimensions.WIDTH;\n    let sourceHeight = this.sourceDimensions.HEIGHT;\n\n    if (IS_HIDPI) {\n      sourceX *= 2;\n      sourceY *= 2;\n      sourceWidth *= 2;\n      sourceHeight *= 2;\n    }\n\n    // Adjustments for sprite sheet position.\n    sourceX += this.spritePos.x;\n    sourceY += this.spritePos.y;\n\n    // Ducking.\n    if (this.ducking && this.status != Trex.status.CRASHED) {\n      this.canvasCtx.drawImage(this.sprite, sourceX, sourceY,\n        sourceWidth, sourceHeight,\n        this.xPos, this.yPos,\n        this.config.WIDTH_DUCK, this.config.HEIGHT);\n    } else {\n      // Crashed whilst ducking. Trex is standing up so needs adjustment.\n      if (this.ducking && this.status == Trex.status.CRASHED) {\n        this.xPos++;\n      }\n      // Standing / running\n      this.canvasCtx.drawImage(this.sprite, sourceX, sourceY,\n        sourceWidth, sourceHeight,\n        this.xPos, this.yPos,\n        this.config.WIDTH, this.config.HEIGHT);\n    }\n  }\n\n  /**\n   * Sets a random time for the blink to happen.\n   */\n  setBlinkDelay() {\n    this.blinkDelay = Math.ceil(Math.random() * Trex.BLINK_TIMING);\n  }\n\n  /**\n   * Make t-rex blink at random intervals.\n   * @param {number} time Current time in milliseconds.\n   */\n  blink(time) {\n    let deltaTime = time - this.animStartTime;\n\n    if (deltaTime >= this.blinkDelay) {\n      this.draw(this.currentAnimFrames[this.currentFrame], 0);\n\n      if (this.currentFrame == 1) {\n        // Set new random delay to blink.\n        this.setBlinkDelay();\n        this.animStartTime = time;\n        this.blinkCount++;\n      }\n    }\n  }\n\n  /**\n   * Initialise a jump.\n   * @param {number} speed\n   */\n  startJump(speed) {\n    if (!this.jumping) {\n      this.update(0, Trex.status.JUMPING);\n      // Tweak the jump velocity based on the speed.\n      this.jumpVelocity = this.config.INIITAL_JUMP_VELOCITY - (speed / 10);\n      this.jumping = true;\n      this.reachedMinHeight = false;\n      this.speedDrop = false;\n    }\n  }\n\n  /**\n   * Jump is complete, falling down.\n   */\n  endJump() {\n    if (this.reachedMinHeight &&\n      this.jumpVelocity < this.config.DROP_VELOCITY) {\n      this.jumpVelocity = this.config.DROP_VELOCITY;\n    }\n  }\n\n  /**\n   * Update frame for a jump.\n   * @param {number} deltaTime\n   * @param {number} speed\n   */\n  updateJump(deltaTime, speed) {\n    let msPerFrame = Trex.animFrames[this.status].msPerFrame;\n    let framesElapsed = deltaTime / msPerFrame;\n\n    // Speed drop makes Trex fall faster.\n    if (this.speedDrop) {\n      this.yPos += Math.round(this.jumpVelocity *\n        this.config.SPEED_DROP_COEFFICIENT * framesElapsed);\n    } else {\n      this.yPos += Math.round(this.jumpVelocity * framesElapsed);\n    }\n\n    this.jumpVelocity += this.config.GRAVITY * framesElapsed;\n\n    // Minimum height has been reached.\n    if (this.yPos < this.minJumpHeight || this.speedDrop) {\n      this.reachedMinHeight = true;\n    }\n\n    // Reached max height\n    if (this.yPos < this.config.MAX_JUMP_HEIGHT || this.speedDrop) {\n      this.endJump();\n    }\n\n    // Back down at ground level. Jump completed.\n    if (this.yPos > this.groundYPos) {\n      this.reset();\n      this.jumpCount++;\n    }\n\n    this.update(deltaTime);\n  }\n\n  /**\n   * Set the speed drop. Immediately cancels the current jump.\n   */\n  setSpeedDrop() {\n    this.speedDrop = true;\n    this.jumpVelocity = 1;\n  }\n\n  /**\n   * @param {boolean} isDucking.\n   */\n  setDuck(isDucking) {\n    if (isDucking && this.status != Trex.status.DUCKING) {\n      this.update(0, Trex.status.DUCKING);\n      this.ducking = true;\n    } else if (this.status == Trex.status.DUCKING) {\n      this.update(0, Trex.status.RUNNING);\n      this.ducking = false;\n    }\n  }\n\n  /**\n   * Reset the t-rex to running at start of game.\n   */\n  reset() {\n    this.yPos = this.groundYPos;\n    this.jumpVelocity = 0;\n    this.jumping = false;\n    this.ducking = false;\n    this.update(0, Trex.status.RUNNING);\n    this.midair = false;\n    this.speedDrop = false;\n    this.jumpCount = 0;\n  }\n\n\n}\n\nTrex = Object.assign(Trex, trexConfig);\n\nexport default Trex;\n\n\n// WEBPACK FOOTER //\n// ./src/trex/trex.js","import DistanceMeter from './distanceMeter';\n\nexport default DistanceMeter;\n\n\n// WEBPACK FOOTER //\n// ./src/distanceMeter/index.js","import { \n  distanceMeterConfig,\n  DIMENSIONS,\n  IS_HIDPI,\n} from 'Configs';\n\nclass DistanceMeter {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.spritePos = {x:0, y:0};\n    this.x = 0;\n    this.y = 5;\n\n    this.maxScore = 0;\n    this.highScore = 0;\n\n    this.digits = [];\n    this.acheivement = false;\n    this.defaultString = '';\n    this.flashTimer = 0;\n    this.flashIterations = 0;\n\n    this.config = DistanceMeter.config;\n    this.maxScoreUnits = this.config.MAX_DISTANCE_UNITS;\n    \n    this.setSprite();\n\n    this.init(DIMENSIONS.WIDTH);\n  }\n\n  setSprite() {\n    if (IS_HIDPI) {\n      this.sprite = document.getElementById(DistanceMeter.spriteIds.HDPI.TEXT_SPRITE);\n    } else {\n      this.sprite = document.getElementById(DistanceMeter.spriteIds.LDPI.TEXT_SPRITE)\n    }\n  }\n\n\n  init(width) {\n    let maxDistanceStr = '';\n\n    this.calcXPos(width);\n    this.maxScore = this.maxScoreUnits;\n\n    for (let i = 0; i < this.maxScoreUnits; i++) {\n      this.draw(i, 0);\n      this.defaultString += '0';\n      maxDistanceStr += '9';\n    }\n\n    this.maxScore = parseInt(maxDistanceStr);\n  }\n\n  /**\n   * Calculate the xPos in the canvas.\n   * @param {number} canvasWidth\n   */\n  calcXPos(canvasWidth) {\n    this.x = canvasWidth - (DistanceMeter.dimensions.DEST_WIDTH *\n      (this.maxScoreUnits + 1));\n  }\n\n  /**\n   * Draw a digit to canvas.\n   * @param {number} digitPos Position of the digit.\n   * @param {number} value Digit value 0-9.\n   * @param {boolean} opt_highScore Whether drawing the high score.\n   */\n  draw(digitPos, value, opt_highScore) {\n    let sourceWidth = DistanceMeter.dimensions.WIDTH;\n    let sourceHeight = DistanceMeter.dimensions.HEIGHT;\n    let sourceX = DistanceMeter.dimensions.WIDTH * value;\n    let sourceY = 0;\n\n    let targetX = digitPos * DistanceMeter.dimensions.DEST_WIDTH;\n    let targetY = this.y;\n    let targetWidth = DistanceMeter.dimensions.WIDTH;\n    let targetHeight = DistanceMeter.dimensions.HEIGHT;\n\n    // For high DPI we 2x source values.\n    if (IS_HIDPI) {\n      sourceWidth *= 2;\n      sourceHeight *= 2;\n      sourceX *= 2;\n    }\n\n    sourceX += this.spritePos.x;\n    sourceY += this.spritePos.y;\n\n    this.canvasCtx.save();\n\n    if (opt_highScore) {\n      // Left of the current score.\n      let highScoreX = this.x - (this.maxScoreUnits * 2) *\n        DistanceMeter.dimensions.WIDTH;\n      this.canvasCtx.translate(highScoreX, this.y);\n    } else {\n      this.canvasCtx.translate(this.x, this.y);\n    }\n\n    this.canvasCtx.drawImage(this.sprite, sourceX, sourceY,\n      sourceWidth, sourceHeight,\n      targetX, targetY,\n      targetWidth, targetHeight\n    );\n\n    this.canvasCtx.restore();\n  }\n\n  /**\n   * Covert pixel distance to a 'real' distance.\n   * @param {number} distance Pixel distance ran.\n   * @return {number} The 'real' distance ran.\n   */\n  getActualDistance(distance) {\n    return distance ? Math.round(distance * this.config.COEFFICIENT) : 0;\n  }\n\n  /**\n   * Update the distance meter.\n   * @param {number} distance\n   * @param {number} deltaTime\n   * @return {boolean} Whether the acheivement sound fx should be played.\n   */\n  update(deltaTime, distance) {\n    let paint = true;\n    let playSound = false;\n\n    if (!this.acheivement) {\n      distance = this.getActualDistance(distance);\n      // Score has gone beyond the initial digit count.\n      if (distance > this.maxScore && this.maxScoreUnits ==\n        this.config.MAX_DISTANCE_UNITS) {\n        this.maxScoreUnits++;\n        this.maxScore = parseInt(this.maxScore + '9');\n      } else {\n        this.distance = 0;\n      }\n\n      if (distance > 0) {\n        // Acheivement unlocked\n        if (distance % this.config.ACHIEVEMENT_DISTANCE == 0) {\n          // Flash score and play sound.\n          this.acheivement = true;\n          this.flashTimer = 0;\n          playSound = true;\n        }\n\n        // Create a string representation of the distance with leading 0.\n        let distanceStr = (this.defaultString +\n          distance).substr(-this.maxScoreUnits);\n        this.digits = distanceStr.split('');\n      } else {\n        this.digits = this.defaultString.split('');\n      }\n    } else {\n      // Control flashing of the score on reaching acheivement.\n      if (this.flashIterations <= this.config.FLASH_ITERATIONS) {\n        this.flashTimer += deltaTime;\n\n        if (this.flashTimer < this.config.FLASH_DURATION) {\n          paint = false;\n        } else if (this.flashTimer >\n          this.config.FLASH_DURATION * 2) {\n          this.flashTimer = 0;\n          this.flashIterations++;\n        }\n      } else {\n        this.acheivement = false;\n        this.flashIterations = 0;\n        this.flashTimer = 0;\n      }\n    }\n\n    // Draw the digits if not flashing.\n    if (paint) {\n      for (let i = this.digits.length - 1; i >= 0; i--) {\n        this.draw(i, parseInt(this.digits[i]));\n      }\n    }\n\n    this.drawHighScore();\n    return playSound;\n  }\n\n  /**\n   * Draw the high score.\n   */\n  drawHighScore() {\n    this.canvasCtx.save();\n    this.canvasCtx.globalAlpha = .8;\n    for (let i = this.highScore.length - 1; i >= 0; i--) {\n      this.draw(i, parseInt(this.highScore[i], 10), true);\n    }\n    this.canvasCtx.restore();\n  }\n\n  /**\n   * Set the highscore as a array string.\n   * Position of char in the sprite: H - 10, I - 11.\n   * @param {number} distance Distance ran in pixels.\n   */\n  setHighScore(distance) {\n    distance = this.getActualDistance(distance);\n    let highScoreStr = (this.defaultString +\n      distance).substr(-this.maxScoreUnits);\n\n    this.highScore = ['10', '11', ''].concat(highScoreStr.split(''));\n  }\n\n  /**\n   * Reset the distance meter back to '00000'.\n   */\n  reset() {\n    this.update(0);\n    this.acheivement = false;\n  }\n};\n\nDistanceMeter = Object.assign(DistanceMeter, distanceMeterConfig);\n\nexport default DistanceMeter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/distanceMeter/distanceMeter.js","import GameOverPanel from './gameOverPanel';\n\nexport default GameOverPanel;\n\n\n// WEBPACK FOOTER //\n// ./src/gameOverPanel/index.js","import { \n  gameOverPanelConfig,\n  DIMENSIONS,\n  IS_HIDPI,\n} from 'Configs';\n\nclass GameOverPanel {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.canvasCtx = canvas.getContext('2d');\n    this.canvasDimensions = DIMENSIONS;\n    this.textImgPos = {x:0, y:0};\n    this.restartImgPos = {x:0, y:0};\n\n    this.setSprites();\n\n    this.draw();\n  }\n  \n   setSprites() {\n    if (IS_HIDPI) {\n      this.textSprite = document.getElementById(GameOverPanel.spriteIds.HDPI.GAME_OVER);\n      this.restartSprite = document.getElementById(GameOverPanel.spriteIds.HDPI.RESTART);\n    } else {\n      this.textSprite = document.getElementById(GameOverPanel.spriteIds.LDPI.GAME_OVER);\n      this.restartSprite = document.getElementById(GameOverPanel.spriteIds.LDPI.RESTART);\n    }\n  }\n\n  updateDimensions(width, opt_height) {\n    this.canvasDimensions.WIDTH = width;\n    if (opt_height) {\n      this.canvasDimensions.HEIGHT = opt_height;\n    }\n  }\n\n  /**\n   * Draw the panel.\n   */\n  draw() {\n    let dimensions = GameOverPanel.dimensions;\n\n    let centerX = this.canvasDimensions.WIDTH / 2;\n\n    // Game over text.\n    let textSourceX = dimensions.TEXT_X;\n    let textSourceY = dimensions.TEXT_Y;\n    let textSourceWidth = dimensions.TEXT_WIDTH;\n    let textSourceHeight = dimensions.TEXT_HEIGHT;\n\n    let textTargetX = Math.round(centerX - (dimensions.TEXT_WIDTH / 2));\n    let textTargetY = Math.round((this.canvasDimensions.HEIGHT - 25) / 3);\n    let textTargetWidth = dimensions.TEXT_WIDTH;\n    let textTargetHeight = dimensions.TEXT_HEIGHT;\n\n    let restartSourceWidth = dimensions.RESTART_WIDTH;\n    let restartSourceHeight = dimensions.RESTART_HEIGHT;\n    let restartTargetX = centerX - (dimensions.RESTART_WIDTH / 2);\n    let restartTargetY = this.canvasDimensions.HEIGHT / 2;\n\n    if (IS_HIDPI) {\n      textSourceY *= 2;\n      textSourceX *= 2;\n      textSourceWidth *= 2;\n      textSourceHeight *= 2;\n      restartSourceWidth *= 2;\n      restartSourceHeight *= 2;\n    }\n\n    textSourceX += this.textImgPos.x;\n    textSourceY += this.textImgPos.y;\n\n    // Game over text from sprite.\n    this.canvasCtx.drawImage(this.textSprite,\n      textSourceX, textSourceY, textSourceWidth, textSourceHeight,\n      textTargetX, textTargetY, textTargetWidth, textTargetHeight);\n\n    // Restart button.\n    this.canvasCtx.drawImage(this.restartSprite,\n      this.restartImgPos.x, this.restartImgPos.y,\n      restartSourceWidth, restartSourceHeight,\n      restartTargetX, restartTargetY, dimensions.RESTART_WIDTH,\n      dimensions.RESTART_HEIGHT);\n  }\n};\n\nGameOverPanel = Object.assign(GameOverPanel, gameOverPanelConfig);\n\nexport default GameOverPanel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/gameOverPanel/gameOverPanel.js","import { runnerConfig } from 'Configs';\n\nclass ImagesLoader {\n  constructor(ids) {\n    this.images = [];\n    this.loadedCallback = null;\n    this.callbackCalled = false;\n    this.setImages(ids);\n  }\n\n  setImages(ids) {\n    for (let name in ids){\n      this.images.push(document.getElementById(ids[name]));\n    }\n  }\n\n  checkAll() {\n    return this.images.reduce((accumulated, current) => {\n      return accumulated && current.complete;\n    }, true);\n  }\n\n  addEventListeners () {\n    for (let img of this.images) {\n      img.addEventListener(runnerConfig.events.LOAD,() => {\n        if (this.checkAll() && !this.callbackCalled) {\n          this.callbackCalled = true;\n          this.loadedCallback();\n        }\n      });\n    }\n  }\n\n  onLoaded(callback) {\n    this.loadedCallback = callback;\n    this.addEventListeners();\n  }\n};\n\nexport default ImagesLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/runner/imagesLoader.js"],"sourceRoot":""}